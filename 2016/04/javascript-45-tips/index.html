<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="https://gitee.com/lslvxy/pics/raw/master/blog/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="https://gitee.com/lslvxy/pics/raw/master/blog/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="https://gitee.com/lslvxy/pics/raw/master/blog/favicon.ico">
  <link rel="mask-icon" href="https://gitee.com/lslvxy/pics/raw/master/blog/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"laysan.site","root":"/","images":"/images","scheme":"Gemini","version":"8.7.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":false,"nav":null,"activeClass":"disqus"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta name="description" content="JavaScript是一个绝冠全球的编程语言，可用于Web开发、移动应用开发（PhoneGap、Appcelerator）、服务器端开发（Node.js和Wakanda）等等。JavaScript还是很多新手踏入编程世界的第一个语言。既可以用来显示浏览器中的简单提示框，也可以通过nodebot或nodruino来控制机器人。能够编写结构清晰、性能高效的JavaScript代码的开发人员，现如今已成">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript 开发的45个经典技巧">
<meta property="og:url" content="https://laysan.site/2016/04/javascript-45-tips/index.html">
<meta property="og:site_name" content="新生代农民工">
<meta property="og:description" content="JavaScript是一个绝冠全球的编程语言，可用于Web开发、移动应用开发（PhoneGap、Appcelerator）、服务器端开发（Node.js和Wakanda）等等。JavaScript还是很多新手踏入编程世界的第一个语言。既可以用来显示浏览器中的简单提示框，也可以通过nodebot或nodruino来控制机器人。能够编写结构清晰、性能高效的JavaScript代码的开发人员，现如今已成">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2016-04-20T01:30:00.000Z">
<meta property="article:modified_time" content="2021-04-21T08:06:03.000Z">
<meta property="article:author" content="依山慕雪">
<meta property="article:tag" content="web">
<meta property="article:tag" content="JQuery">
<meta property="article:tag" content="tips">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://laysan.site/2016/04/javascript-45-tips/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://laysan.site/2016/04/javascript-45-tips/","path":"2016/04/javascript-45-tips/","title":"JavaScript 开发的45个经典技巧"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>JavaScript 开发的45个经典技巧 | 新生代农民工</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-87346390-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-87346390-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="新生代农民工" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">新生代农民工</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">依山慕雪的个人博客</p>
      <img class="custom-logo-image" src="https://gitee.com/lslvxy/pics/raw/master/blog/logo.png" alt="新生代农民工">
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81%E9%A6%96%E6%AC%A1%E4%B8%BA%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC%E6%97%B6%E5%8A%A1%E5%BF%85%E4%BD%BF%E7%94%A8var%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">1.</span> <span class="nav-text">1、首次为变量赋值时务必使用var关键字</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81%E4%BD%BF%E7%94%A8-%E5%8F%96%E4%BB%A3"><span class="nav-number">2.</span> <span class="nav-text">2、使用&#x3D;&#x3D;&#x3D;取代&#x3D;&#x3D;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81underfined%E3%80%81null%E3%80%810%E3%80%81false%E3%80%81NaN%E3%80%81%E7%A9%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%9C%E5%9D%87%E4%B8%BAfalse"><span class="nav-number">3.</span> <span class="nav-text">3、underfined、null、0、false、NaN、空字符串的逻辑结果均为false</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4%E3%80%81%E8%A1%8C%E5%B0%BE%E4%BD%BF%E7%94%A8%E5%88%86%E5%8F%B7"><span class="nav-number">4.</span> <span class="nav-text">4、行尾使用分号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5%E3%80%81%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1%E6%9E%84%E9%80%A0%E5%99%A8"><span class="nav-number">5.</span> <span class="nav-text">5、使用对象构造器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6%E3%80%81%E5%B0%8F%E5%BF%83%E4%BD%BF%E7%94%A8typeof%E3%80%81instanceof%E5%92%8Ccontructor"><span class="nav-number">6.</span> <span class="nav-text">6、小心使用typeof、instanceof和contructor</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7%E3%80%81%E4%BD%BF%E7%94%A8%E8%87%AA%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0"><span class="nav-number">7.</span> <span class="nav-text">7、使用自调用函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8%E3%80%81%E4%BB%8E%E6%95%B0%E7%BB%84%E4%B8%AD%E9%9A%8F%E6%9C%BA%E8%8E%B7%E5%8F%96%E6%88%90%E5%91%98"><span class="nav-number">8.</span> <span class="nav-text">8、从数组中随机获取成员</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9%E3%80%81%E8%8E%B7%E5%8F%96%E6%8C%87%E5%AE%9A%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="nav-number">9.</span> <span class="nav-text">9、获取指定范围内的随机数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10%E3%80%81%E7%94%9F%E6%88%90%E4%BB%8E0%E5%88%B0%E6%8C%87%E5%AE%9A%E5%80%BC%E7%9A%84%E6%95%B0%E5%AD%97%E6%95%B0%E7%BB%84"><span class="nav-number">10.</span> <span class="nav-text">10、生成从0到指定值的数字数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11%E3%80%81%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E7%9A%84%E5%AD%97%E6%AF%8D%E6%95%B0%E5%AD%97%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">11.</span> <span class="nav-text">11、生成随机的字母数字字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12%E3%80%81%E6%89%93%E4%B9%B1%E6%95%B0%E5%AD%97%E6%95%B0%E7%BB%84%E7%9A%84%E9%A1%BA%E5%BA%8F"><span class="nav-number">12.</span> <span class="nav-text">12、打乱数字数组的顺序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8E%BB%E7%A9%BA%E6%A0%BC"><span class="nav-number">13.</span> <span class="nav-text">13、字符串去空格</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14%E3%80%81%E6%95%B0%E7%BB%84%E4%B9%8B%E9%97%B4%E8%BF%BD%E5%8A%A0"><span class="nav-number">14.</span> <span class="nav-text">14、数组之间追加</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15%E3%80%81%E5%AF%B9%E8%B1%A1%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%95%B0%E7%BB%84"><span class="nav-number">15.</span> <span class="nav-text">15、对象转换为数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16%E3%80%81%E9%AA%8C%E8%AF%81%E6%98%AF%E5%90%A6%E6%98%AF%E6%95%B0%E5%AD%97"><span class="nav-number">16.</span> <span class="nav-text">16、验证是否是数字</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17%E3%80%81%E9%AA%8C%E8%AF%81%E6%98%AF%E5%90%A6%E6%98%AF%E6%95%B0%E7%BB%84"><span class="nav-number">17.</span> <span class="nav-text">17、验证是否是数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18%E3%80%81%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC%E5%92%8C%E6%9C%80%E5%B0%8F%E5%80%BC"><span class="nav-number">18.</span> <span class="nav-text">18、获取数组中的最大值和最小值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19%E3%80%81%E6%B8%85%E7%A9%BA%E6%95%B0%E7%BB%84"><span class="nav-number">19.</span> <span class="nav-text">19、清空数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20%E3%80%81%E4%B8%8D%E8%A6%81%E7%9B%B4%E6%8E%A5%E4%BB%8E%E6%95%B0%E7%BB%84%E4%B8%ADdelete%E6%88%96remove%E5%85%83%E7%B4%A0"><span class="nav-number">20.</span> <span class="nav-text">20、不要直接从数组中delete或remove元素</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21%E3%80%81%E4%BD%BF%E7%94%A8length%E5%B1%9E%E6%80%A7%E6%88%AA%E6%96%AD%E6%95%B0%E7%BB%84"><span class="nav-number">21.</span> <span class="nav-text">21、使用length属性截断数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22%E3%80%81%E5%9C%A8%E6%9D%A1%E4%BB%B6%E4%B8%AD%E4%BD%BF%E7%94%A8%E9%80%BB%E8%BE%91%E4%B8%8E%E6%88%96"><span class="nav-number">22.</span> <span class="nav-text">22、在条件中使用逻辑与或</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23%E3%80%81%E4%BD%BF%E5%BE%97map-%E5%87%BD%E6%95%B0%E6%96%B9%E6%B3%95%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BE%AA%E7%8E%AF"><span class="nav-number">23.</span> <span class="nav-text">23、使得map()函数方法对数据循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24%E3%80%81%E4%BF%9D%E7%95%99%E6%8C%87%E5%AE%9A%E5%B0%8F%E6%95%B0%E4%BD%8D%E6%95%B0"><span class="nav-number">24.</span> <span class="nav-text">24、保留指定小数位数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25%E3%80%81%E6%B5%AE%E7%82%B9%E8%AE%A1%E7%AE%97%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">25.</span> <span class="nav-text">25、浮点计算的问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#26%E3%80%81%E9%80%9A%E8%BF%87for-in%E5%BE%AA%E7%8E%AF%E6%A3%80%E6%9F%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="nav-number">26.</span> <span class="nav-text">26、通过for-in循环检查对象的属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#27%E3%80%81%E9%80%97%E5%8F%B7%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="nav-number">27.</span> <span class="nav-text">27、逗号操作符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#28%E3%80%81%E4%B8%B4%E6%97%B6%E5%AD%98%E5%82%A8%E7%94%A8%E4%BA%8E%E8%AE%A1%E7%AE%97%E5%92%8C%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%8F%98%E9%87%8F"><span class="nav-number">28.</span> <span class="nav-text">28、临时存储用于计算和查询的变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#29%E3%80%81%E6%8F%90%E5%89%8D%E6%A3%80%E6%9F%A5%E4%BC%A0%E5%85%A5isFinite-%E7%9A%84%E5%8F%82%E6%95%B0"><span class="nav-number">29.</span> <span class="nav-text">29、提前检查传入isFinite()的参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#30%E3%80%81%E9%81%BF%E5%85%8D%E5%9C%A8%E6%95%B0%E7%BB%84%E4%B8%AD%E4%BD%BF%E7%94%A8%E8%B4%9F%E6%95%B0%E5%81%9A%E7%B4%A2%E5%BC%95"><span class="nav-number">30.</span> <span class="nav-text">30、避免在数组中使用负数做索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#31%E3%80%81%E7%94%A8JSON%E6%9D%A5%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="nav-number">31.</span> <span class="nav-text">31、用JSON来序列化与反序列化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#32%E3%80%81%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8eval-%E6%88%96%E8%80%85%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A0%E5%99%A8"><span class="nav-number">32.</span> <span class="nav-text">32、不要使用eval()或者函数构造器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#32%E3%80%81%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8eval-%E6%88%96%E8%80%85%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A0%E5%99%A8-1"><span class="nav-number">33.</span> <span class="nav-text">32、不要使用eval()或者函数构造器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#33%E3%80%81%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8with"><span class="nav-number">34.</span> <span class="nav-text">33、避免使用with()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#34%E3%80%81%E4%B8%8D%E8%A6%81%E5%AF%B9%E6%95%B0%E7%BB%84%E4%BD%BF%E7%94%A8for-in"><span class="nav-number">35.</span> <span class="nav-text">34、不要对数组使用for-in</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#35%E3%80%81%E4%BC%A0%E7%BB%99setInterval-%E5%92%8CsetTimeout-%E6%97%B6%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E8%80%8C%E4%B8%8D%E6%98%AF%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">36.</span> <span class="nav-text">35、传给setInterval()和setTimeout()时使用函数而不是字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#36%E3%80%81%E4%BD%BF%E7%94%A8switch-case%E4%BB%A3%E6%9B%BF%E4%B8%80%E5%A4%A7%E5%8F%A0%E7%9A%84if-else"><span class="nav-number">37.</span> <span class="nav-text">36、使用switch&#x2F;case代替一大叠的if&#x2F;else</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#37%E3%80%81%E5%9C%A8switch-case%E4%B8%AD%E4%BD%BF%E7%94%A8%E6%95%B0%E5%AD%97%E5%8C%BA%E9%97%B4"><span class="nav-number">38.</span> <span class="nav-text">37、在switch&#x2F;case中使用数字区间</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#38%E3%80%81%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8E%9F%E5%9E%8B"><span class="nav-number">39.</span> <span class="nav-text">38、使用对象作为对象的原型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#39%E3%80%81HTML%E5%AD%97%E6%AE%B5%E8%BD%AC%E6%8D%A2%E5%87%BD%E6%95%B0"><span class="nav-number">40.</span> <span class="nav-text">39、HTML字段转换函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#40%E3%80%81%E4%B8%8D%E8%A6%81%E5%9C%A8%E5%BE%AA%E7%8E%AF%E5%86%85%E9%83%A8%E4%BD%BF%E7%94%A8try-catch-finally"><span class="nav-number">41.</span> <span class="nav-text">40、不要在循环内部使用try-catch-finally</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#41%E3%80%81%E4%BD%BF%E7%94%A8XMLHttpRequests%E6%97%B6%E6%B3%A8%E6%84%8F%E8%AE%BE%E7%BD%AE%E8%B6%85%E6%97%B6"><span class="nav-number">42.</span> <span class="nav-text">41、使用XMLHttpRequests时注意设置超时</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#42%E3%80%81%E5%A4%84%E7%90%86WebSocket%E7%9A%84%E8%B6%85%E6%97%B6"><span class="nav-number">43.</span> <span class="nav-text">42、处理WebSocket的超时</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#43%E3%80%81%E6%97%B6%E9%97%B4%E6%B3%A8%E6%84%8F%E5%8E%9F%E5%A7%8B%E6%93%8D%E4%BD%9C%E7%AC%A6%E6%AF%94%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E5%BF%AB%EF%BC%8C%E4%BD%BF%E7%94%A8VanillaJS"><span class="nav-number">44.</span> <span class="nav-text">43、时间注意原始操作符比函数调用快，使用VanillaJS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#44%E3%80%81%E5%BC%80%E5%8F%91%E6%97%B6%E6%B3%A8%E6%84%8F%E4%BB%A3%E7%A0%81%E7%BB%93%E6%9E%84%EF%BC%8C%E4%B8%8A%E7%BA%BF%E5%89%8D%E6%A3%80%E6%9F%A5%E5%B9%B6%E5%8E%8B%E7%BC%A9JavaScript%E4%BB%A3%E7%A0%81"><span class="nav-number">45.</span> <span class="nav-text">44、开发时注意代码结构，上线前检查并压缩JavaScript代码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#45%E3%80%81JavaScript%E5%8D%9A%E5%A4%A7%E7%B2%BE%E6%B7%B1%EF%BC%8C%E8%BF%99%E9%87%8C%E6%9C%89%E4%BA%9B%E4%B8%8D%E9%94%99%E7%9A%84%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90"><span class="nav-number">46.</span> <span class="nav-text">45、JavaScript博大精深，这里有些不错的学习资源</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="依山慕雪"
      src="https://gitee.com/lslvxy/pics/raw/master/blog/avatar.v1.png">
  <p class="site-author-name" itemprop="name">依山慕雪</p>
  <div class="site-description" itemprop="description">诗意的橙子,内涵的柚子.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">49</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">93</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/lslvxy" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;lslvxy" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a target="_blank" rel="noopener" href="//chenguoji.com" title="&#x2F;&#x2F;chenguoji.com">陈国际</a>
        </li>
        <li class="links-of-blogroll-item">
          <a target="_blank" rel="noopener" href="//ystyle.top" title="&#x2F;&#x2F;ystyle.top">东方星痕</a>
        </li>
    </ul>
  </div>

          </div>
        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://laysan.site/2016/04/javascript-45-tips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://gitee.com/lslvxy/pics/raw/master/blog/avatar.v1.png">
      <meta itemprop="name" content="依山慕雪">
      <meta itemprop="description" content="诗意的橙子,内涵的柚子.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="新生代农民工">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JavaScript 开发的45个经典技巧
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2016-04-20 09:30:00" itemprop="dateCreated datePublished" datetime="2016-04-20T09:30:00+08:00">2016-04-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-21 16:06:03" itemprop="dateModified" datetime="2021-04-21T16:06:03+08:00">2021-04-21</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Web/" itemprop="url" rel="index"><span itemprop="name">Web</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2016/04/javascript-45-tips/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/04/javascript-45-tips/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>JavaScript是一个绝冠全球的编程语言，可用于Web开发、移动应用开发（PhoneGap、Appcelerator）、服务器端开发（Node.js和Wakanda）等等。JavaScript还是很多新手踏入编程世界的第一个语言。既可以用来显示浏览器中的简单提示框，也可以通过nodebot或nodruino来控制机器人。能够编写结构清晰、性能高效的JavaScript代码的开发人员，现如今已成了招聘市场最受追捧的人。</p>
<span id="more"></span>

<p>在这篇文章里，我将分享一些JavaScript的技巧、秘诀和最佳实践，除了少数几个外，不管是浏览器的JavaScript引擎，还是服务器端JavaScript解释器，均适用。</p>
<h2 id="1、首次为变量赋值时务必使用var关键字"><a href="#1、首次为变量赋值时务必使用var关键字" class="headerlink" title="1、首次为变量赋值时务必使用var关键字"></a>1、首次为变量赋值时务必使用<code>var</code>关键字</h2><p>变量没有声明而直接赋值得话，默认会作为一个新的全局变量，要尽量避免使用全局变量。</p>
<h2 id="2、使用-取代"><a href="#2、使用-取代" class="headerlink" title="2、使用===取代=="></a>2、使用<code>===</code>取代<code>==</code></h2><p><code>==</code>和<code>!=</code>操作符会在需要的情况下自动转换数据类型。但<code>===</code>和<code>!==</code>不会，它们会同时比较值和数据类型，这也使得它们要比<code>==</code>和<code>!=</code>快。</p>
<pre><code>[10] === 10    // is false
[10]  == 10    // is true
&#39;10&#39; == 10     // is true
&#39;10&#39; === 10    // is false
 []   == 0     // is true
 [] ===  0     // is false
 &#39;&#39; == false   // is true but true == &quot;a&quot; is false
 &#39;&#39; === false  // is false
</code></pre>
<h2 id="3、underfined、null、0、false、NaN、空字符串的逻辑结果均为false"><a href="#3、underfined、null、0、false、NaN、空字符串的逻辑结果均为false" class="headerlink" title="3、underfined、null、0、false、NaN、空字符串的逻辑结果均为false"></a>3、<code>underfined</code>、<code>null</code>、0、false、NaN、空字符串的逻辑结果均为false</h2><h2 id="4、行尾使用分号"><a href="#4、行尾使用分号" class="headerlink" title="4、行尾使用分号"></a>4、行尾使用分号</h2><p>实践中最好还是使用分号，忘了写也没事，大部分情况下JavaScript解释器都会自动添加。对于为何要使用分号，可参考文章<a target="_blank" rel="noopener" href="http://davidwalsh.name/javascript-semicolons">JavaScript中关于分号的真相</a>。</p>
<h2 id="5、使用对象构造器"><a href="#5、使用对象构造器" class="headerlink" title="5、使用对象构造器"></a>5、使用对象构造器</h2><pre><code>function Person(firstName, lastName)&#123;
    this.firstName =  firstName;
    this.lastName = lastName;
&#125;
var Saad = new Person(&quot;Saad&quot;, &quot;Mousliki&quot;);
</code></pre>
<h2 id="6、小心使用typeof、instanceof和contructor"><a href="#6、小心使用typeof、instanceof和contructor" class="headerlink" title="6、小心使用typeof、instanceof和contructor"></a>6、小心使用<code>typeof</code>、<code>instanceof</code>和<code>contructor</code></h2><ul>
<li>  <code>typeof</code>：JavaScript一元操作符，用于以字符串的形式返回变量的原始类型，注意，<code>typeof null</code>也会返回<code>object</code>，大多数的对象类型（数组Array、时间Date等）也会返回<code>object</code></li>
<li>  <code>contructor</code>：内部原型属性，可以通过代码重写</li>
<li>  <code>instanceof</code>：JavaScript操作符，会在原型链中的构造器中搜索，找到则返回<code>true</code>，否则返回<code>false</code><pre><code>var arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];
typeof arr;   // 返回 &quot;object&quot;
arr instanceof Array // true
arr.constructor();  //[]
</code></pre>
</li>
</ul>
<h2 id="7、使用自调用函数"><a href="#7、使用自调用函数" class="headerlink" title="7、使用自调用函数"></a>7、使用自调用函数</h2><p>函数在创建之后直接自动执行，通常称之为自调用匿名函数（Self-Invoked Anonymous Function）或直接调用函数表达式（Immediately Invoked Function Expression ）。格式如下：</p>
<pre><code>(function()&#123;
    // 置于此处的代码将自动执行
&#125;)();  
(function(a,b)&#123;
    var result = a+b;
    return result;
&#125;)(10,20)
</code></pre>
<h2 id="8、从数组中随机获取成员"><a href="#8、从数组中随机获取成员" class="headerlink" title="8、从数组中随机获取成员"></a>8、从数组中随机获取成员</h2><pre><code>var items = [12, 548 , &#39;a&#39; , 2 , 5478 , &#39;foo&#39; , 8852, , &#39;Doe&#39; , 2145 , 119];
var  randomItem = items[Math.floor(Math.random() * items.length)];
</code></pre>
<h2 id="9、获取指定范围内的随机数"><a href="#9、获取指定范围内的随机数" class="headerlink" title="9、获取指定范围内的随机数"></a>9、获取指定范围内的随机数</h2><p>这个功能在生成测试用的假数据时特别有数，比如介与指定范围内的工资数。</p>
<pre><code>var x = Math.floor(Math.random() * (max - min + 1)) + min;
</code></pre>
<h2 id="10、生成从0到指定值的数字数组"><a href="#10、生成从0到指定值的数字数组" class="headerlink" title="10、生成从0到指定值的数字数组"></a>10、生成从0到指定值的数字数组</h2><pre><code>var numbersArray = [] , max = 100;
for( var i=1; numbersArray.push(i++) &amp;lt; max;);  // numbers = [1,2,3 ... 100]
</code></pre>
<h2 id="11、生成随机的字母数字字符串"><a href="#11、生成随机的字母数字字符串" class="headerlink" title="11、生成随机的字母数字字符串"></a>11、生成随机的字母数字字符串</h2><pre><code>function generateRandomAlphaNum(len) &#123;
    var rdmString = &quot;&quot;;
    for( ; rdmString.length &amp;lt; len; rdmString  += Math.random().toString(36).substr(2));
    return  rdmString.substr(0, len);
&#125;
</code></pre>
<h2 id="12、打乱数字数组的顺序"><a href="#12、打乱数字数组的顺序" class="headerlink" title="12、打乱数字数组的顺序"></a>12、打乱数字数组的顺序</h2><pre><code>var numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411];
numbers = numbers.sort(function()&#123; return Math.random() - 0.5&#125;);
/* numbers 数组将类似于 [120, 5, 228, -215, 400, 458, -85411, 122205]  */
</code></pre>
<p>这里使用了JavaScript内置的数组排序函数，更好的办法是用专门的代码来实现（如Fisher-Yates算法），可以参见StackOverFlow上的<a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/962802/is-it-correct-to-use-javascript-array-sort-method-for-shuffling/962890#962890">这个讨论</a>。</p>
<h2 id="13、字符串去空格"><a href="#13、字符串去空格" class="headerlink" title="13、字符串去空格"></a>13、字符串去空格</h2><p>Java、C#和PHP等语言都实现了专门的字符串去空格函数，但JavaScript中是没有的，可以通过下面的代码来为<code>String</code>对象函数一个<code>trim</code>函数：</p>
<pre><code>String.prototype.trim = function()&#123;return this.replace(/^\s+|\s+$/g, &quot;&quot;);&#125;;
</code></pre>
<p>新的JavaScript引擎已经有了<code>trim()</code>的原生实现。</p>
<h2 id="14、数组之间追加"><a href="#14、数组之间追加" class="headerlink" title="14、数组之间追加"></a>14、数组之间追加</h2><pre><code>var array1 = [12 , &quot;foo&quot; , &#123;name &quot;Joe&quot;&#125; , -2458];
var array2 = [&quot;Doe&quot; , 555 , 100];
Array.prototype.push.apply(array1, array2);
/* array1 值为  [12 , &quot;foo&quot; , &#123;name &quot;Joe&quot;&#125; , -2458 , &quot;Doe&quot; , 555 , 100] */
</code></pre>
<h2 id="15、对象转换为数组"><a href="#15、对象转换为数组" class="headerlink" title="15、对象转换为数组"></a>15、对象转换为数组</h2><pre><code>var argArray = Array.prototype.slice.call(arguments);
</code></pre>
<h2 id="16、验证是否是数字"><a href="#16、验证是否是数字" class="headerlink" title="16、验证是否是数字"></a>16、验证是否是数字</h2><pre><code>function isNumber(n)&#123;
    return !isNaN(parseFloat(n)) &amp;amp;&amp;amp; isFinite(n);
&#125;
</code></pre>
<h2 id="17、验证是否是数组"><a href="#17、验证是否是数组" class="headerlink" title="17、验证是否是数组"></a>17、验证是否是数组</h2><pre><code>function isArray(obj)&#123;
    return Object.prototype.toString.call(obj) === &#39;[object Array]&#39; ;
&#125;
</code></pre>
<p>但如果<code>toString()</code>方法被重写过得话，就行不通了。也可以使用下面的方法：</p>
<pre><code>Array.isArray(obj); // its a new Array method
</code></pre>
<p>如果在浏览器中没有使用frame，还可以用<code>instanceof</code>，但如果上下文太复杂，也有可能出错。</p>
<pre><code>var myFrame = document.createElement(&#39;iframe&#39;);
document.body.appendChild(myFrame);
var myArray = window.frames[window.frames.length-1].Array;
var arr = new myArray(a,b,10); // [a,b,10]  
// myArray 的构造器已经丢失，instanceof 的结果将不正常
// 构造器是不能跨 frame 共享的
arr instanceof Array; // false
</code></pre>
<h2 id="18、获取数组中的最大值和最小值"><a href="#18、获取数组中的最大值和最小值" class="headerlink" title="18、获取数组中的最大值和最小值"></a>18、获取数组中的最大值和最小值</h2><pre><code>var  numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411];
var maxInNumbers = Math.max.apply(Math, numbers);
var minInNumbers = Math.min.apply(Math, numbers);
</code></pre>
<h2 id="19、清空数组"><a href="#19、清空数组" class="headerlink" title="19、清空数组"></a>19、清空数组</h2><pre><code>var myArray = [12 , 222 , 1000 ];  
myArray.length = 0; // myArray will be equal to [].
</code></pre>
<h2 id="20、不要直接从数组中delete或remove元素"><a href="#20、不要直接从数组中delete或remove元素" class="headerlink" title="20、不要直接从数组中delete或remove元素"></a>20、不要直接从数组中<code>delete</code>或<code>remove</code>元素</h2><p>如果对数组元素直接使用<code>delete</code>，其实并没有删除，只是将元素置为了<code>undefined</code>。数组元素删除应使用<code>splice</code>。</p>
<p>切忌：</p>
<pre><code>var items = [12, 548 ,&#39;a&#39; , 2 , 5478 , &#39;foo&#39; , 8852, , &#39;Doe&#39; ,2154 , 119 ];
items.length; // return 11
delete items[3]; // return true
items.length; // return 11
/* items 结果为 [12, 548, &quot;a&quot;, undefined × 1, 5478, &quot;foo&quot;, 8852, undefined × 1, &quot;Doe&quot;, 2154, 119] */
</code></pre>
<p>而应：</p>
<pre><code>var items = [12, 548 ,&#39;a&#39; , 2 , 5478 , &#39;foo&#39; , 8852, , &#39;Doe&#39; ,2154 , 119 ];
items.length; // return 11
items.splice(3,1) ;
items.length; // return 10
/* items 结果为 [12, 548, &quot;a&quot;, 5478, &quot;foo&quot;, 8852, undefined × 1, &quot;Doe&quot;, 2154, 119]
</code></pre>
<p>删除对象的属性时可以使用<code>delete</code>。</p>
<h2 id="21、使用length属性截断数组"><a href="#21、使用length属性截断数组" class="headerlink" title="21、使用length属性截断数组"></a>21、使用<code>length</code>属性截断数组</h2><p>前面的例子中用<code>length</code>属性清空数组，同样还可用它来截断数组：</p>
<pre><code>var myArray = [12 , 222 , 1000 , 124 , 98 , 10 ];  
myArray.length = 4; // myArray will be equal to [12 , 222 , 1000 , 124].
</code></pre>
<p>与此同时，如果把<code>length</code>属性变大，数组的长度值变会增加，会使用<code>undefined</code>来作为新的元素填充。<code>length</code>是一个可写的属性。</p>
<pre><code>myArray.length = 10; // the new array length is 10
myArray[myArray.length - 1] ; // undefined
</code></pre>
<h2 id="22、在条件中使用逻辑与或"><a href="#22、在条件中使用逻辑与或" class="headerlink" title="22、在条件中使用逻辑与或"></a>22、在条件中使用逻辑与或</h2><pre><code>var foo = 10;  
foo == 10 &amp;amp;&amp;amp; doSomething(); // is the same thing as if (foo == 10) doSomething();
foo == 5 || doSomething(); // is the same thing as if (foo != 5) doSomething();
</code></pre>
<p>逻辑或还可用来设置默认值，比如函数参数的默认值。</p>
<pre><code>function doSomething(arg1)&#123;
    arg1 = arg1 || 10; // arg1 will have 10 as a default value if it’s not already set
&#125;
</code></pre>
<h2 id="23、使得map-函数方法对数据循环"><a href="#23、使得map-函数方法对数据循环" class="headerlink" title="23、使得map()函数方法对数据循环"></a>23、使得<code>map()</code>函数方法对数据循环</h2><pre><code>var squares = [1,2,3,4].map(function (val) &#123;  
    return val * val;  
&#125;);
// squares will be equal to [1, 4, 9, 16]
</code></pre>
<h2 id="24、保留指定小数位数"><a href="#24、保留指定小数位数" class="headerlink" title="24、保留指定小数位数"></a>24、保留指定小数位数</h2><pre><code>var num =2.443242342;
num = num.toFixed(4);  // num will be equal to 2.4432
</code></pre>
<p>注意，<code>toFixec()</code>返回的是字符串，不是数字。</p>
<h2 id="25、浮点计算的问题"><a href="#25、浮点计算的问题" class="headerlink" title="25、浮点计算的问题"></a>25、浮点计算的问题</h2><pre><code>0.1 + 0.2 === 0.3 // is false
9007199254740992 + 1 // is equal to 9007199254740992
9007199254740992 + 2 // is equal to 9007199254740994
</code></pre>
<p>为什么呢？因为0.1+0.2等于0.30000000000000004。JavaScript的数字都遵循IEEE 754标准构建，在内部都是64位浮点小数表示，具体可以参见<a target="_blank" rel="noopener" href="http://www.2ality.com/2012/04/number-encoding.html">JavaScript中的数字是如何编码的</a>.</p>
<p>可以通过使用<code>toFixed()</code>和<code>toPrecision()</code>来解决这个问题。</p>
<h2 id="26、通过for-in循环检查对象的属性"><a href="#26、通过for-in循环检查对象的属性" class="headerlink" title="26、通过for-in循环检查对象的属性"></a>26、通过for-in循环检查对象的属性</h2><p>下面这样的用法，可以防止迭代的时候进入到对象的原型属性中。</p>
<pre><code>for (var name in object) &#123;  
    if (object.hasOwnProperty(name)) &#123;
        // do something with name
    &#125;  
&#125;
</code></pre>
<h2 id="27、逗号操作符"><a href="#27、逗号操作符" class="headerlink" title="27、逗号操作符"></a>27、逗号操作符</h2><pre><code>var a = 0;
var b = ( a++, 99 );
console.log(a);  // a will be equal to 1
console.log(b);  // b is equal to 99
</code></pre>
<h2 id="28、临时存储用于计算和查询的变量"><a href="#28、临时存储用于计算和查询的变量" class="headerlink" title="28、临时存储用于计算和查询的变量"></a>28、临时存储用于计算和查询的变量</h2><p>在jQuery选择器中，可以临时存储整个DOM元素。</p>
<pre><code>var navright = document.querySelector(&#39;#right&#39;);
var navleft = document.querySelector(&#39;#left&#39;);
var navup = document.querySelector(&#39;#up&#39;);
var navdown = document.querySelector(&#39;#down&#39;);
</code></pre>
<h2 id="29、提前检查传入isFinite-的参数"><a href="#29、提前检查传入isFinite-的参数" class="headerlink" title="29、提前检查传入isFinite()的参数"></a>29、提前检查传入<code>isFinite()</code>的参数</h2><pre><code>isFinite(0/0) ; // false
isFinite(&quot;foo&quot;); // false
isFinite(&quot;10&quot;); // true
isFinite(10);   // true
isFinite(undefined);  // false
isFinite();   // false
isFinite(null);  // true，这点当特别注意
</code></pre>
<h2 id="30、避免在数组中使用负数做索引"><a href="#30、避免在数组中使用负数做索引" class="headerlink" title="30、避免在数组中使用负数做索引"></a>30、避免在数组中使用负数做索引</h2><pre><code>var numbersArray = [1,2,3,4,5];
 var from = numbersArray.indexOf(&quot;foo&quot;) ; // from is equal to -1
 numbersArray.splice(from,2); // will return [5]
</code></pre>
<p>注意传给<code>splice</code>的索引参数不要是负数，当是负数时，会从数组结尾处删除元素。</p>
<h2 id="31、用JSON来序列化与反序列化"><a href="#31、用JSON来序列化与反序列化" class="headerlink" title="31、用JSON来序列化与反序列化"></a>31、用JSON来序列化与反序列化</h2><pre><code>var person = &#123;name :&#39;Saad&#39;, age : 26, department : &#123;ID : 15, name : &quot;R&amp;amp;D&quot;&#125; &#125;;
var stringFromPerson = JSON.stringify(person);
/* stringFromPerson 结果为 &quot;&#123;&quot;name&quot;:&quot;Saad&quot;,&quot;age&quot;:26,&quot;department&quot;:&#123;&quot;ID&quot;:15,&quot;name&quot;:&quot;R&amp;amp;D&quot;&#125;&#125;&quot;   */
var personFromString = JSON.parse(stringFromPerson);
/* personFromString 的值与 person 对象相同  */
</code></pre>
<h2 id="32、不要使用eval-或者函数构造器"><a href="#32、不要使用eval-或者函数构造器" class="headerlink" title="32、不要使用eval()或者函数构造器"></a>32、不要使用<code>eval()</code>或者函数构造器</h2><p><code>eval()</code>和函数构造器（<code>Function</code> consturctor）的开销较大，每次调用，JavaScript引擎都要将源代码转换为可执行的代码。</p>
<pre><code>var func1 = new Function(functionCode);
var func2 = eval(functionCode);
</code></pre>
<h2 id="32、不要使用eval-或者函数构造器-1"><a href="#32、不要使用eval-或者函数构造器-1" class="headerlink" title="32、不要使用eval()或者函数构造器"></a>32、不要使用<code>eval()</code>或者函数构造器</h2><p><code>eval()</code>和函数构造器（<code>Function</code> consturctor）的开销较大，每次调用，JavaScript引擎都要将源代码转换为可执行的代码。</p>
<pre><code>var func1 = new Function(functionCode);
var func2 = eval(functionCode);
</code></pre>
<h2 id="33、避免使用with"><a href="#33、避免使用with" class="headerlink" title="33、避免使用with()"></a>33、避免使用<code>with()</code></h2><p>使用<code>with()</code>可以把变量加入到全局作用域中，因此，如果有其它的同名变量，一来容易混淆，二来值也会被覆盖。</p>
<h2 id="34、不要对数组使用for-in"><a href="#34、不要对数组使用for-in" class="headerlink" title="34、不要对数组使用for-in"></a>34、不要对数组使用for-in</h2><p>避免：</p>
<pre><code>var sum = 0;  
for (var i in arrayNumbers) &#123;  
    sum += arrayNumbers[i];  
&#125;
</code></pre>
<p>而是：</p>
<pre><code>var sum = 0;  
for (var i = 0, len = arrayNumbers.length; i &amp;lt; len; i++) &#123;  
    sum += arrayNumbers[i];  
&#125;
</code></pre>
<p>另外一个好处是，<code>i</code>和<code>len</code>两个变量是在<code>for</code>循环的第一个声明中，二者只会初始化一次，这要比下面这种写法快：</p>
<pre><code>for (var i = 0; i &amp;lt; arrayNumbers.length; i++)
</code></pre>
<h2 id="35、传给setInterval-和setTimeout-时使用函数而不是字符串"><a href="#35、传给setInterval-和setTimeout-时使用函数而不是字符串" class="headerlink" title="35、传给setInterval()和setTimeout()时使用函数而不是字符串"></a>35、传给<code>setInterval()</code>和<code>setTimeout()</code>时使用函数而不是字符串</h2><p>如果传给<code>setTimeout()</code>和<code>setInterval()</code>一个字符串，他们将会用类似于<code>eval</code>方式进行转换，这肯定会要慢些，因此不要使用：</p>
<pre><code>setInterval(&#39;doSomethingPeriodically()&#39;, 1000);  
setTimeout(&#39;doSomethingAfterFiveSeconds()&#39;, 5000);
</code></pre>
<p>而是用：</p>
<pre><code>setInterval(doSomethingPeriodically, 1000);  
setTimeout(doSomethingAfterFiveSeconds, 5000);
</code></pre>
<h2 id="36、使用switch-case代替一大叠的if-else"><a href="#36、使用switch-case代替一大叠的if-else" class="headerlink" title="36、使用switch/case代替一大叠的if/else"></a>36、使用<code>switch/case</code>代替一大叠的<code>if/else</code></h2><p>当判断有超过两个分支的时候使用<code>switch/case</code>要更快一些，而且也更优雅，更利于代码的组织，当然，如果有超过10个分支，就不要使用<code>switch/case</code>了。</p>
<h2 id="37、在switch-case中使用数字区间"><a href="#37、在switch-case中使用数字区间" class="headerlink" title="37、在switch/case中使用数字区间"></a>37、在<code>switch/case</code>中使用数字区间</h2><p>其实，<code>switch/case</code>中的<code>case</code>条件，还可以这样写：</p>
<pre><code>function getCategory(age) &#123;  
    var category = &quot;&quot;;  
    switch (true) &#123;  
        case isNaN(age):  
            category = &quot;not an age&quot;;  
            break;  
        case (age &amp;gt;= 50):  
            category = &quot;Old&quot;;  
            break;  
        case (age &amp;lt;= 20):  
            category = &quot;Baby&quot;;  
            break;  
        default:  
            category = &quot;Young&quot;;  
            break;  
    &#125;;  
    return category;  
&#125;  
getCategory(5);  // 将返回 &quot;Baby&quot;
</code></pre>
<h2 id="38、使用对象作为对象的原型"><a href="#38、使用对象作为对象的原型" class="headerlink" title="38、使用对象作为对象的原型"></a>38、使用对象作为对象的原型</h2><p>下面这样，便可以给定对象作为参数，来创建以此为原型的新对象：</p>
<pre><code>function clone(object) &#123;  
    function OneShotConstructor()&#123;&#125;;
    OneShotConstructor.prototype = object;  
    return new OneShotConstructor();
&#125;
clone(Array).prototype ;  // []
</code></pre>
<h2 id="39、HTML字段转换函数"><a href="#39、HTML字段转换函数" class="headerlink" title="39、HTML字段转换函数"></a>39、HTML字段转换函数</h2><pre><code>function escapeHTML(text) &#123;  
    var replacements= &#123;&quot;&amp;lt;&quot;: &quot;&amp;lt;&quot;, &quot;&amp;gt;&quot;: &quot;&amp;gt;&quot;,&quot;&amp;amp;&quot;: &quot;&amp;amp;&quot;, &quot;\&quot;&quot;: &quot;&quot;&quot;&#125;;                      
    return text.replace(/[&amp;lt;&amp;gt;&amp;amp;&quot;]/g, function(character) &#123;  
        return replacements[character];  
    &#125;);
&#125;
</code></pre>
<h2 id="40、不要在循环内部使用try-catch-finally"><a href="#40、不要在循环内部使用try-catch-finally" class="headerlink" title="40、不要在循环内部使用try-catch-finally"></a>40、不要在循环内部使用try-catch-finally</h2><p>try-catch-finally中catch部分在执行时会将异常赋给一个变量，这个变量会被构建成一个运行时作用域内的新的变量。</p>
<p>切忌：</p>
<pre><code>var object = [&#39;foo&#39;, &#39;bar&#39;], i;  
for (i = 0, len = object.length; i &amp;lt;len; i++) &#123;  
    try &#123;  
        // do something that throws an exception
    &#125;  
    catch (e) &#123;   
        // handle exception  
    &#125;
&#125;
</code></pre>
<p>而应该：</p>
<pre><code>var object = [&#39;foo&#39;, &#39;bar&#39;], i;  
try &#123;
    for (i = 0, len = object.length; i &amp;lt;len; i++) &#123;  
        // do something that throws an exception
    &#125;
&#125;
catch (e) &#123;   
    // handle exception  
&#125;
</code></pre>
<h2 id="41、使用XMLHttpRequests时注意设置超时"><a href="#41、使用XMLHttpRequests时注意设置超时" class="headerlink" title="41、使用XMLHttpRequests时注意设置超时"></a>41、使用XMLHttpRequests时注意设置超时</h2><p>XMLHttpRequests在执行时，当长时间没有响应（如出现网络问题等）时，应该中止掉连接，可以通过<code>setTimeout()</code>来完成这个工作：</p>
<pre><code>var xhr = new XMLHttpRequest ();
xhr.onreadystatechange = function () &#123;  
    if (this.readyState == 4) &#123;  
        clearTimeout(timeout);  
        // do something with response data
    &#125;  
&#125;  
var timeout = setTimeout( function () &#123;  
    xhr.abort(); // call error callback  
&#125;, 60*1000 /* timeout after a minute */ );
xhr.open(&#39;GET&#39;, url, true);  
xhr.send();
</code></pre>
<p>同时需要注意的是，不要同时发起多个XMLHttpRequests请求。</p>
<h2 id="42、处理WebSocket的超时"><a href="#42、处理WebSocket的超时" class="headerlink" title="42、处理WebSocket的超时"></a>42、处理WebSocket的超时</h2><p>通常情况下，WebSocket连接创建后，如果30秒内没有任何活动，服务器端会对连接进行超时处理，防火墙也可以对单位周期没有活动的连接进行超时处理。</p>
<p>为了防止这种情况的发生，可以每隔一定时间，往服务器发送一条空的消息。可以通过下面这两个函数来实现这个需求，一个用于使连接保持活动状态，另一个专门用于结束这个状态。</p>
<pre><code>var timerID = 0;
function keepAlive() &#123;
    var timeout = 15000;  
    if (webSocket.readyState == webSocket.OPEN) &#123;  
        webSocket.send(&#39;&#39;);  
    &#125;  
    timerId = setTimeout(keepAlive, timeout);  
&#125;  
function cancelKeepAlive() &#123;  
    if (timerId) &#123;  
        cancelTimeout(timerId);  
    &#125;  
&#125;
</code></pre>
<p><code>keepAlive()</code>函数可以放在WebSocket连接的<code>onOpen()</code>方法的最后面，<code>cancelKeepAlive()</code>放在<code>onClose()</code>方法的最末尾。</p>
<h2 id="43、时间注意原始操作符比函数调用快，使用VanillaJS"><a href="#43、时间注意原始操作符比函数调用快，使用VanillaJS" class="headerlink" title="43、时间注意原始操作符比函数调用快，使用VanillaJS"></a>43、时间注意原始操作符比函数调用快，使用VanillaJS</h2><p>比如，一般不要这样：</p>
<pre><code>var min = Math.min(a,b);
A.push(v);
</code></pre>
<p>可以这样来代替：</p>
<pre><code>var min = a &amp;lt; b ? a : b;
A[A.length] = v;
</code></pre>
<h2 id="44、开发时注意代码结构，上线前检查并压缩JavaScript代码"><a href="#44、开发时注意代码结构，上线前检查并压缩JavaScript代码" class="headerlink" title="44、开发时注意代码结构，上线前检查并压缩JavaScript代码"></a>44、开发时注意代码结构，上线前检查并压缩JavaScript代码</h2><p>别忘了在写代码时使用一个代码美化工具。使用JSLint(一个语法检查工具)并且在上线前压缩代码（比如使用JSMin）。注：现在代码压缩一般推荐 UglifyJS (<a target="_blank" rel="noopener" href="https://github.com/mishoo/UglifyJS2">https://github.com/mishoo/UglifyJS2</a>)</p>
<h2 id="45、JavaScript博大精深，这里有些不错的学习资源"><a href="#45、JavaScript博大精深，这里有些不错的学习资源" class="headerlink" title="45、JavaScript博大精深，这里有些不错的学习资源"></a>45、JavaScript博大精深，这里有些不错的学习资源</h2><ul>
<li>  Code Academy资源：<a target="_blank" rel="noopener" href="http://www.codecademy.com/tracks/javascript">http://www.codecademy.com/tracks/javascript</a></li>
<li>  Marjin Haverbekex编写的_Eloquent JavaScript_：<a target="_blank" rel="noopener" href="http://eloquentjavascript.net/">http://eloquentjavascript.net/</a></li>
<li>  John Resig编写的_Advanced JavaScript_：<a target="_blank" rel="noopener" href="http://ejohn.org/apps/learn/">http://ejohn.org/apps/learn/</a></li>
</ul>
<p>原文连接: <a target="_blank" rel="noopener" href="http://www.codeceo.com/article/javascript-45-tips.html">http://www.codeceo.com/article/javascript-45-tips.html</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/web/" rel="tag"># web</a>
              <a href="/tags/JQuery/" rel="tag"># JQuery</a>
              <a href="/tags/tips/" rel="tag"># tips</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2016/04/jquery-plugin/" rel="prev" title="深入理解JQuery插件开发">
                  <i class="fa fa-chevron-left"></i> 深入理解JQuery插件开发
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2016/05/javascript-12-tips/" rel="next" title="12个非常实用的JavaScript小技巧">
                  12个非常实用的JavaScript小技巧 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">依山慕雪</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  
<script src="/js/third-party/search/local-search.js"></script>




  




  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.2.0/dist/quicklink.umd.js" integrity="sha256-4kQf9z5ntdQrzsBC3YSHnEz02Z9C1UeW/E9OgnvlzSY=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://laysan.site/2016/04/javascript-45-tips/"}</script>
  <script src="/js/third-party/quicklink.js"></script>
<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"lslvxy","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>

</body>
</html>
